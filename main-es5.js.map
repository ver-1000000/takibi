{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/flame.ts","webpack:///src/app/flame/flame.component.ts","webpack:///src/app/flame/flame.component.html","webpack:///src/app/safe.pipe.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","$event","stopPropagation","getPoint","mouseEvent","svg","target","viewBox","baseVal","width","height","clientWidth","clientHeight","x","offsetX","y","offsetY","AppComponent","flames","push","birthDate","Date","flame","splice","indexOf","i","item","add","selector","templateUrl","styleUrls","changeDetection","OnPush","AppModule","register","enabled","production","declarations","imports","providers","bootstrap","Flame","opt","VOLUME","SIZE","DURATION","getUUID","replace","c","r","Math","random","v","toString","getFireSeeds","floor","Array","map","_","cx","cy","FlameComponent","fireSeeds","SafePipe","sanitizer","value","type","String","bypassSecurityTrustHtml","bypassSecurityTrustStyle","bypassSecurityTrustScript","bypassSecurityTrustUrl","bypassSecurityTrustResourceUrl","name","environment","bootstrapModule","catch","err","console","error"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\nimport { Flame } from './flame';\n\n/** SVGをクリックした時に拡縮されたキャンバスに整合性を取った座標を返す。 */\nconst getPoint = (mouseEvent: MouseEvent) => {\n  const svg = mouseEvent.target as SVGSVGElement;\n  const { width, height } = svg.viewBox.baseVal;\n  const { clientWidth, clientHeight } = svg;\n  return {\n    x: (width / clientWidth) * mouseEvent.offsetX,\n    y: (height / clientHeight) * mouseEvent.offsetY,\n  };\n};\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AppComponent {\n  flames: Flame[] = [];\n\n  add(e: MouseEvent) {\n    const { x, y } = getPoint(e);\n    this.flames.push(new Flame({ birthDate: new Date(), x, y }));\n  }\n\n  remove(flame: Flame) {\n    this.flames.splice(this.flames.indexOf(flame), 1);\n  }\n\n  trackByFn(i: number, item: Flame) {\n    return item;\n  }\n}\n","<svg class=\"canvas\" viewBox=\"0 0 800 800\" (click)=\"add($event)\">\n  <svg:g\n    appFlame\n    attr.transform=\"translate({{ flame.x }}, {{ flame.y }})\"\n    (click)=\"remove(flame); $event.stopPropagation()\"\n    *ngFor=\"let flame of flames; trackBy: trackByFn\"\n  ></svg:g>\n</svg>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { ServiceWorkerModule } from '@angular/service-worker';\nimport { environment } from '../environments/environment';\nimport { FlameComponent } from './flame/flame.component';\nimport { SafePipe } from './safe.pipe';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    FlameComponent,\n    SafePipe\n  ],\n  imports: [\n    BrowserModule,\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","/**\n * 炎クラス。\n *\n * TODO: birthDateが規定の時間を超えると消火される。\n */\nexport class Flame {\n  birthDate: Date;\n\n  x: number;\n\n  y: number;\n\n  constructor(opt: Flame) {\n    this.birthDate = opt.birthDate;\n    this.x = opt.x;\n    this.y = opt.y;\n  }\n}\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\n\n/** 火種となるcircle要素の情報。 */\ninterface FireSeed {\n  id: number;\n  cx: number;\n  cy: number;\n}\n\n/** 火種の基準大きさ。 */\nconst VOLUME = 30;\n/** 火種の数。 */\nconst SIZE = 40;\n/** 炎のアニメーション寿命。 */\nconst DURATION = 1500;\n\n/** UUIDを取得する。 */\nconst getUUID = () =>\n  'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {\n    const r = (Math.random() * 16) | 0;\n    const v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n\n/** 火種群を作成する。 */\nconst getFireSeeds = () => {\n  const random = () => Math.floor(Math.random() * VOLUME);\n  return [...Array(SIZE)].map((_, i) => ({\n    id: i,\n    cx: random(),\n    cy: random(),\n  }));\n};\n\n/**\n * 炎コンポーネント。\n */\n@Component({\n  selector: '[appFlame]',\n  templateUrl: './flame.component.html',\n  styleUrls: ['./flame.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class FlameComponent {\n  readonly id = getUUID();\n  readonly fireSeeds = getFireSeeds();\n  readonly VOLUME = VOLUME;\n  readonly DURATION = DURATION;\n\n  trackByFn(i: number, item: FireSeed) {\n    return item.id;\n  }\n}\n","<svg:radialGradient [attr.id]=\"id\">\n  <stop offset=\"0\" stop-color=\"hsl(10, 90%, 80%)\" />\n  <stop offset=\".4\" stop-color=\"hsl(20, 90%, 60%)\" />\n  <stop offset=\"1\" stop-color=\"hsl(40, 90%, 0%)\" />\n</svg:radialGradient>\n\n<svg:circle\n  attr.fill=\"url(#{{ id }})\"\n  [attr.r]=\"VOLUME\"\n  [attr.cx]=\"seed.cx\"\n  [attr.cy]=\"seed.cy\"\n  [style.animationDuration.ms]=\"DURATION\"\n  [style.animationDelay.ms]=\"i * DURATION / fireSeeds.length\"\n  *ngFor=\"let seed of fireSeeds; index as i; trackBy: trackByFn\"\n/>\n","/**\n * DOM\u001b$B$N%W%m%Q%F%#$K!\"\u001b(BXSS\u001b$B@H<e@-$N2DG=@-$r;}$DJ8;zNs$r%5%K%?%$%:$9$k!#\u001b(B\n *\n * SEE ALSO: {@link https://angular.io/guide/security#xss}\n */\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer, SafeHtml, SafeStyle, SafeScript, SafeUrl, SafeResourceUrl } from '@angular/platform-browser';\n\n@Pipe({ name: 'safe' })\nexport class SafePipe implements PipeTransform {\n  constructor(protected sanitizer: DomSanitizer) {\n  }\n\n  transform(value: string | number, type: string): SafeHtml | SafeStyle | SafeScript | SafeUrl | SafeResourceUrl {\n    value = String(value);\n    switch (type) {\n      case 'html':\n        return this.sanitizer.bypassSecurityTrustHtml(value);\n      case 'style':\n        return this.sanitizer.bypassSecurityTrustStyle(value);\n      case 'script':\n        return this.sanitizer.bypassSecurityTrustScript(value);\n      case 'url':\n        return this.sanitizer.bypassSecurityTrustUrl(value);\n      case 'resourceUrl':\n        return this.sanitizer.bypassSecurityTrustResourceUrl(value);\n      default:\n        throw new Error(`Unable to bypass security for invalid type: ${type}`);\n    }\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"]}